
# Roadmap
* So far, we’ve assumed **all processors are connected to a memory system** that provides the abstraction of a single shared address space.
* But the implementation of that abstraction can be quite complex.
* Today we cover **techniques for reducing the cost of communication:**
	* between processors
	* between processor(s) and memory

# Shared Address Space Model
* Recall that memory includes a hierarchy of caches on top of DRAM.
![[Pasted image 20241011160252.png]]
* With a **shared address space**, any core can **directly** reference any memory location.
	* For every core and iGPU, the wires connect cores to memory.
![[Pasted image 20241011160431.png]]
* One example of the wires is Intel's ring interconnect:
	* There's a network where **each core has its own L1 and L2 cache**, and the **L3 cache is split** up into four local slices placed next to the cores.
	* When we load, if it's not in our own L1/L2 cache or our L3 slice, it routes the request across the ring bus into the appropriate L3 cache slice.
![[Pasted image 20241011160507.png]]

* Communication abstraction
	* Threads read/write variables in shared address space
	* Threads manipulate synchronization primitives: locks, atomic ops, etc.
	* Logical extension of uniprocessor programming
* Requires **hardware support** to implement efficiently
	* Any processor can load and store from any address
	* Can be costly to scale to large numbers of processors (one of the reasons why high-core count processors are expensive)

# Message Passing
* In the shared address space model, threads communicated by reading and writing to variables in the shared address space.
* Let’s consider a different abstraction that makes explicit communication between processors.

## Model (abstraction)
* Threads operate within their own private address spaces
* Threads communicate by sending/receiving messages
	* **send:** specifies recipient, buffer to be transmitted, and optional message identifier (tag)
	* **receive:** specifies sender, buffer to store data, and optional message identifier
	* Sending messages is **the only way** to exchange data between threads.
![[Pasted image 20241011161258.png]]
