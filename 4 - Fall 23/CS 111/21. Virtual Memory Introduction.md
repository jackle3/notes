---
Date: 2023-11-15
---
# Sharing Memory

- Virtual memory is a mechanism for multiple processes to simultaneously use system memory.
- Goals of sharing memory:
	- **Multitasking** – allow multiple processes to be memory-resident at once
		- Allows switching between different programs by letting multiple be in memory
	- **Transparency** – no process should need to know memory is shared. Each must run regardless of the number and/or locations of processes in memory.
	- **Isolation** – processes must not be able to corrupt each other
	- **Efficiency** (both of CPU and memory) – shouldn’t be degraded badly by sharing

# Single Tasking

- There is memory belonging to the process itself

	![[attachments/Untitled 154.png|Untitled 154.png]]

- There is also memory belonging to the OS

	![[attachments/Untitled 1 117.png|Untitled 1 117.png]]

# Load-Time Relocation

- This means reserving contiguous blocks in memory for each process.

	![[attachments/Untitled 2 117.png|Untitled 2 117.png]]

- This approach is very similar to heap allocation.

	![[attachments/Untitled 3 116.png|Untitled 3 116.png]]

# Virtual Memory

![[attachments/Untitled 4 111.png|Untitled 4 111.png]]

- Virtual memory allows for memory to appear more plentiful than it really is
	- It allows the computer to compensate for shortages of physical memory by temporarily transferring data from memory to disk storage.
	- This process creates an illusion of having more memory available and allows the system to run larger applications than would otherwise be impossible

## Dynamic Address Translation

- When a program tries to access a memory, the OS **intercepts** it and translates it on the fly
- There’s no way for us to see the physical memory address, the OS takes care of that

![[attachments/Untitled 5 110.png|Untitled 5 110.png]]

- To make this translation faster, we have a hardware chip called an MMU to translate this

![[attachments/Untitled 6 108.png|Untitled 6 108.png]]

## Address Space

![[attachments/Untitled 7 105.png|Untitled 7 105.png]]

- Notice that each process’ address space is not contiguous in physical address space. It can put each peace of the memory at different places in the physical address space.

![[attachments/Untitled 8 97.png|Untitled 8 97.png]]

# Base and Bound

![[attachments/Untitled 9 93.png|Untitled 9 93.png]]

![[attachments/Untitled 10 88.png|Untitled 10 88.png]]

## Benefits

![[attachments/Untitled 11 86.png|Untitled 11 86.png]]

![[attachments/Untitled 12 83.png|Untitled 12 83.png]]

## Drawbacks

![[attachments/Untitled 13 78.png|Untitled 13 78.png]]
